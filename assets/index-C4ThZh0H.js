import{j as e,r as d,R as p}from"./react-DnEnySv6.js";import{c as f}from"./react-dom-a42CcBC8.js";import{L as u,u as j,B as x,R as g,a}from"./react-router-DjWc9Wl8.js";import"./cookie-59rrEzcK.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();const l=n=>{const o={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(n).toLocaleString(void 0,o)},y=({title:n,excerpt:o,link:c,datePosted:i,dateModified:t,postedBy:s,modifiedBy:r})=>e.jsxs("div",{className:"blog-post",children:[e.jsx("h2",{children:n}),e.jsx("p",{children:o}),e.jsxs("p",{className:"meta",children:[e.jsx("strong",{children:"Posted by:"})," ",s," on ",l(i)]}),t&&r&&e.jsxs("p",{className:"meta",children:[e.jsx("strong",{children:"Modified by:"})," ",r," on ",l(t)]}),e.jsx(u,{to:c,className:"read-more",children:"Read more"})]}),m=n=>{const o={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(n).toLocaleString(void 0,o)},P=({posts:n,fetchFullPost:o})=>{const{id:c}=j(),i=parseInt(c);d.useEffect(()=>{o(i)},[i,o]);const t=n[i];return t?e.jsxs("div",{className:"full-post",children:[e.jsx("h2",{children:t.title}),e.jsx("p",{children:t.fullPost}),e.jsxs("p",{className:"meta",children:[e.jsx("strong",{children:"Posted by:"})," ",t.postedBy," on ",m(t.datePosted)]}),t.dateModified&&t.modifiedBy&&e.jsxs("p",{className:"meta",children:[e.jsx("strong",{children:"Modified by:"})," ",t.modifiedBy," on ",m(t.dateModified)]}),e.jsxs("p",{className:"meta",children:[e.jsx("strong",{children:"Tags:"})," ",t.tags.join(", ")]}),t.sources.length>0&&e.jsxs("p",{className:"meta",children:[e.jsx("strong",{children:"Sources:"})," ",t.sources.map((s,r)=>e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:s},r))]})]}):e.jsx("div",{children:"Loading..."})};function N(){const[n,o]=d.useState([]),[c,i]=d.useState({});d.useEffect(()=>{fetch("/posts/index.json").then(s=>s.json()).then(s=>o(s))},[]);const t=s=>{c[s]||fetch(`/posts/post${s}.json`).then(r=>r.json()).then(r=>i(h=>({...h,[s]:r})))};return e.jsx(x,{children:e.jsxs("div",{className:"App",children:[e.jsx("header",{className:"App-header",children:e.jsx("h1",{children:e.jsx(u,{to:"/",className:"home-link",children:"The Tech Oracle"})})}),e.jsx("main",{children:e.jsxs(g,{children:[e.jsx(a,{path:"/",element:e.jsx(e.Fragment,{children:n.map(s=>{const r=c[s.id];return e.jsx(y,{title:s.title,excerpt:s.excerpt,link:`/post/${s.id}`,datePosted:r?r.datePosted:"",dateModified:r?r.dateModified:void 0,postedBy:r?r.postedBy:"",modifiedBy:r?r.modifiedBy:void 0},s.id)})})}),e.jsx(a,{path:"/post/:id",element:e.jsx(P,{posts:c,fetchFullPost:t})})]})})]})})}const v=f.createRoot(document.getElementById("app"));v.render(e.jsx(p.StrictMode,{children:e.jsx(N,{})}));
